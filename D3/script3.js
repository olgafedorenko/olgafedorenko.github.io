// var grades = [100, 70, 100, 90, 75, 60, 85, 100, 55, 60, 80, 90, 60];var grades = [];d3.tsv('data.tsv', function(data) {  for (key in data) {     grades.push(+data[key].value)  }// for (var i=0; i<40; i++) { grades.push(Math.floor(Math.random() * 60)) };// grades.sort(function compN(a,b) { return a -b; });var tooltip = d3.select('body').append('div')   .style('position', 'absolute')   .style('padding', '0 10px')   .style('background', 'white')   .style('opacity', 0);var margin = { top: 20, right: 20, bottom: 30, left: 40 };var height = 200 - margin.top - margin.bottom, width = 500 - margin.left - margin.right, barW = 40, barSpace = 5;var verticalGuide = d3.scaleLinear()   .domain([0, d3.max(grades)])   .range([height, 0]);var mycolors = d3.scaleLinear()   .domain([0, grades.length])   .range(['#E59500', '#CB327D']);var yS = d3.scaleLinear()   .domain([0, d3.max(grades)])   .range([0, height]);var xS = d3.scaleBand()   .domain(d3.range(0, (grades.length -1)))   .range([0, width])   .padding(0.1);var tColor;var graph = d3.select('#chart')               .append('svg')			   .attr('width', width + margin.left + margin.right)			   .attr('height', height + margin.top + margin.bottom)			   .style('background', '#788180')			   .append('g')			   .attr('transform', 'translate('+ margin.left+', '+margin.top+')');graph.selectAll('rect')   .data(grades)   .enter()   .append('rect')   .style('fill', function(d, i) { return mycolors(i) })   .attr('width', xS.bandwidth())   .attr('height', function(d) { return yS(d); })   .attr('x', function(d, i) { return xS(i); })   .attr('y', function(d) { return height - yS(d) })   .on('mouseover', function(d) {      tooltip.transition()	     .style('opacity', .8)	  tooltip.html(d)	     .style('left', (d3.event.pageX - 35) + 'px')		 .style('top', (d3.event.pageY - 30) + 'px')      tColor = this.style.fill;      d3.select(this)	     .transition().delay(500).duration(2000)	     .style('opacity', .4)         .style('fill', '#FFFF32') })   .on('mouseout', function(d) {      d3.select(this)	     .transition().delay(500).duration(2000)	     .style('opacity', 1) 		 .style('fill', tColor) });		 graph.append('g')   .call(d3.axisLeft(yS).scale(verticalGuide));   graph.append('g')   .call(d3.axisBottom(xS))   .attr('transform', 'translate(0, '+ height +')');   });